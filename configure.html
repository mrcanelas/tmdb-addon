<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Movie Database Addon - Stremio Addon</title>
    <style>
      * {
        box-sizing: border-box;
      }

      body,
      html {
        margin: 0;
        padding: 0;
        width: 100%;
        min-height: 100%;
      }

      body {
        padding: 2vh;
        font-size: 2.2vh;
      }

      html {
        background-size: auto 100%;
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;
        box-shadow: inset 0 0 0 2000px rgb(0 0 0 / 60%);
      }

      body {
        display: flex;
        font-family: "Open Sans", Arial, sans-serif;
        color: white;
      }

      h1 {
        font-size: 4.5vh;
        font-weight: 700;
      }

      h2 {
        font-size: 2.2vh;
        font-weight: normal;
        font-style: italic;
        opacity: 0.8;
      }

      h3 {
        font-size: 2.2vh;
      }

      h1,
      h2,
      h3,
      p {
        margin: 0;
        text-shadow: 0 0 1vh rgba(0, 0, 0, 0.15);
      }

      p {
        font-size: 1.75vh;
      }

      ul {
        font-size: 1.75vh;
        margin: 0;
        margin-top: 1vh;
        padding-left: 3vh;
      }

      a {
        color: white;
      }

      a.install-link {
        text-decoration: none;
      }

      button {
        border: 0;
        outline: 0;
        color: white;
        background: #8a5aab;
        padding: 1.2vh 3.5vh;
        margin: auto;
        text-align: center;
        font-family: "Open Sans", Arial, sans-serif;
        font-size: 2.2vh;
        font-weight: 600;
        cursor: pointer;
        display: block;
        box-shadow: 0 0.5vh 1vh rgba(0, 0, 0, 0.2);
        transition: box-shadow 0.1s ease-in-out;
      }

      button:hover {
        box-shadow: none;
      }

      button:active {
        box-shadow: 0 0 0 0.5vh white inset;
      }

      #addon {
        width: 50vh;
        margin: auto;
      }

      .logo {
        height: 14vh;
        width: 14vh;
        margin: auto;
        margin-bottom: 3vh;
      }

      .logo img {
        width: 100%;
      }

      .name,
      .version {
        display: inline-block;
        vertical-align: top;
      }

      .name {
        line-height: 5vh;
        margin: 0;
      }

      .version {
        position: relative;
        line-height: 5vh;
        opacity: 0.8;
        margin-bottom: 2vh;
      }

      .contact {
        position: absolute;
        left: 0;
        bottom: 4vh;
        width: 100%;
        text-align: center;
      }

      .contact a {
        font-size: 1.4vh;
        font-style: italic;
      }

      .separator {
        margin-bottom: 4vh;
      }

      .separator-small {
        margin-bottom: 2vh;
      }

      .form-element {
        margin-bottom: 2vh;
      }

      .label-to-top {
        margin-bottom: 2vh;
      }

      .label-to-right {
        margin-left: 1vh !important;
      }

      .full-width {
        width: 100%;
        height: 5vh;
        padding: 0.5vh 0.5vh;
        margin: auto;
        border: 0.5vh solid #8a5aab;
        font-size: 2.2vh;
        cursor: pointer;
        display: block;
        box-shadow: 0 0.5vh 1vh rgba(0, 0, 0, 0.2);
        transition: box-shadow 0.1s ease-in-out;
        color: #8a5aab;
      }

      #language-select {
        width: 100%;
        height: 5vh;
        padding: 0.5vh 0.5vh;
        margin: auto;
        border: 0.5vh solid #8a5aab;
        font-size: 2.2vh;
        cursor: pointer;
        display: block;
        box-shadow: 0 0.5vh 1vh rgba(0, 0, 0, 0.2);
        transition: box-shadow 0.1s ease-in-out;
        color: #8a5aab;
      }
    </style>
    <link
      rel="shortcut icon"
      href="https://github.com/mrcanelas/tmdb-addon/raw/main/images/favicon.png"
      type="image/x-icon"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap"
      rel="stylesheet"
    />
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.min.js"></script>
  </head>

  <body>
    <div id="addon">
      <div class="logo">
        <img
          src="https://github.com/mrcanelas/tmdb-addon/raw/main/images/logo.png"
        />
      </div>
      <h1 class="name">The Movie Database Addon</h1>
      <h2 class="version">3.0.15</h2>
      <h2 class="description">Metadata provided by TMDB.</h2>
      <div class="separator"></div>
      <h3 class="gives">This addon has more :</h3>
      <ul>
        <li>Movies</li>
        <li>Series</li>
      </ul>

      <div class="separator"></div>

      <form class="pure-form" id="mainForm">
        <h3 class="gives">Catalog settings:</h3>

        <div class="separator-small"></div>

        <div class="form-element">
          <label for="ratings">
            <input type="checkbox" id="ratings" name="ratings" />
            <span class="label-to-right"
              >Ratings on Posters (requires
              <a href="https://ratingposterdb.com/" target="_blank">RPDB</a>
              key)</span
            >
          </label>
        </div>
        <div id="rpdb-data"></div>
        <div class="form-element">
          <label for="use_tmdb_prefix">
            <input type="checkbox" id="use_tmdb_prefix" name="use_tmdb_prefix" value="true"/>
            <span class="label-to-right">Use TMDB prefix in catalogs</span>
          </label>
        </div>
        <div class="form-element">
          <label for="announce_imdb_prefix">
            <input type="checkbox" id="announce_imdb_prefix" name="announce_imdb_prefix" value="true"/>
            <span class="label-to-right">Announce support for IMDB prefix</span>
          </label>
        </div>
        <div class="form-element">
          <label for="include_adult">
            <input type="checkbox" id="include_adult" name="include_adult" value="true"/>
            <span class="label-to-right">Enable adult content</span>
          </label>
        </div>
        <div class="separator"></div>

        <h3 class="gives">Select your language:</h3>

        <div class="separator-small"></div>
        <select
          id="language-select"
          name="language"
          onchange="generateInstallLink()"
        >
          <option value="ab-AB">Abkhazian (ab-AB)</option>
          <option value="aa-AA">Afar (aa-AA)</option>
          <option value="af-AF">Afrikaans (af-AF)</option>
          <option value="ak-AK">Akan (ak-AK)</option>
          <option value="sq-AL">Albanian (sq-AL)</option>
          <option value="am-AM">Amharic (am-AM)</option>
          <option value="ar-SA">Arabic (ar-SA)</option>
          <option value="ar-AE">Arabic (ar-AE)</option>
          <option value="an-AN">Aragonese (an-AN)</option>
          <option value="hy-HY">Armenian (hy-HY)</option>
          <option value="as-AS">Assamese (as-AS)</option>
          <option value="av-AV">Avaric (av-AV)</option>
          <option value="ae-AE">Avestan (ae-AE)</option>
          <option value="ay-AY">Aymara (ay-AY)</option>
          <option value="az-AZ">Azerbaijani (az-AZ)</option>
          <option value="bm-BM">Bambara (bm-BM)</option>
          <option value="ba-BA">Bashkir (ba-BA)</option>
          <option value="eu-ES">Basque (eu-ES)</option>
          <option value="be-BY">Belarusian (be-BY)</option>
          <option value="bn-BD">Bengali (bn-BD)</option>
          <option value="bi-BI">Bislama (bi-BI)</option>
          <option value="nb-NO">Bokm√•l (nb-NO)</option>
          <option value="bs-BS">Bosnian (bs-BS)</option>
          <option value="br-BR">Breton (br-BR)</option>
          <option value="bg-BG">Bulgarian (bg-BG)</option>
          <option value="my-MY">Burmese (my-MY)</option>
          <option value="cn-CN">Cantonese (cn-CN)</option>
          <option value="ca-ES">Catalan (ca-ES)</option>
          <option value="km-KM">Central Khmer (km-KM)</option>
          <option value="ch-GU">Chamorro (ch-GU)</option>
          <option value="ce-CE">Chechen (ce-CE)</option>
          <option value="ny-NY">Chichewa (ny-NY)</option>
          <option value="zh-CN">Chinese (zh-CN)</option>
          <option value="zh-HK">Chinese (zh-HK)</option>
          <option value="zh-TW">Chinese (zh-TW)</option>
          <option value="cu-CU">Church Slavic (cu-CU)</option>
          <option value="cv-CV">Chuvash (cv-CV)</option>
          <option value="kw-KW">Cornish (kw-KW)</option>
          <option value="co-CO">Corsican (co-CO)</option>
          <option value="cr-CR">Cree (cr-CR)</option>
          <option value="hr-HR">Croatian (hr-HR)</option>
          <option value="cs-CZ">Czech (cs-CZ)</option>
          <option value="da-DK">Danish (da-DK)</option>
          <option value="dv-DV">Divehi (dv-DV)</option>
          <option value="nl-NL">Dutch (nl-NL)</option>
          <option value="dz-DZ">Dzongkha (dz-DZ)</option>
          <option value="en-US" selected>English (en-US)</option>
          <option value="en-AU">English (en-AU)</option>
          <option value="en-CA">English (en-CA)</option>
          <option value="en-GB">English (en-GB)</option>
          <option value="en-IE">English (en-IE)</option>
          <option value="en-NZ">English (en-NZ)</option>
          <option value="eo-EO">Esperanto (eo-EO)</option>
          <option value="et-EE">Estonian (et-EE)</option>
          <option value="ee-EE">Ewe (ee-EE)</option>
          <option value="fo-FO">Faroese (fo-FO)</option>
          <option value="fj-FJ">Fijian (fj-FJ)</option>
          <option value="fi-FI">Finnish (fi-FI)</option>
          <option value="fr-FR">French (fr-FR)</option>
          <option value="fr-CA">French (fr-CA)</option>
          <option value="ff-FF">Fulah (ff-FF)</option>
          <option value="gd-GD">Gaelic (gd-GD)</option>
          <option value="gl-ES">Galician (gl-ES)</option>
          <option value="lg-LG">Ganda (lg-LG)</option>
          <option value="ka-GE">Georgian (ka-GE)</option>
          <option value="de-DE">German (de-DE)</option>
          <option value="de-AT">German (de-AT)</option>
          <option value="de-CH">German (de-CH)</option>
          <option value="el-GR">Greek (el-GR)</option>
          <option value="gn-GN">Guarani (gn-GN)</option>
          <option value="gu-GU">Gujarati (gu-GU)</option>
          <option value="ht-HT">Haitian (ht-HT)</option>
          <option value="ha-HA">Hausa (ha-HA)</option>
          <option value="he-IL">Hebrew (he-IL)</option>
          <option value="hz-HZ">Herero (hz-HZ)</option>
          <option value="hi-IN">Hindi (hi-IN)</option>
          <option value="ho-HO">Hiri Motu (ho-HO)</option>
          <option value="hu-HU">Hungarian (hu-HU)</option>
          <option value="is-IS">Icelandic (is-IS)</option>
          <option value="io-IO">Ido (io-IO)</option>
          <option value="ig-IG">Igbo (ig-IG)</option>
          <option value="id-ID">Indonesian (id-ID)</option>
          <option value="ia-IA">Interlingua (ia-IA)</option>
          <option value="ie-IE">Interlingue (ie-IE)</option>
          <option value="iu-IU">Inuktitut (iu-IU)</option>
          <option value="ik-IK">Inupiaq (ik-IK)</option>
          <option value="ga-GA">Irish (ga-GA)</option>
          <option value="it-IT">Italian (it-IT)</option>
          <option value="ja-JP">Japanese (ja-JP)</option>
          <option value="jv-JV">Javanese (jv-JV)</option>
          <option value="kl-KL">Kalaallisut (kl-KL)</option>
          <option value="kn-IN">Kannada (kn-IN)</option>
          <option value="kr-KR">Kanuri (kr-KR)</option>
          <option value="ks-KS">Kashmiri (ks-KS)</option>
          <option value="kk-KZ">Kazakh (kk-KZ)</option>
          <option value="ki-KI">Kikuyu (ki-KI)</option>
          <option value="rw-RW">Kinyarwanda (rw-RW)</option>
          <option value="ky-KY">Kirghiz (ky-KY)</option>
          <option value="kv-KV">Komi (kv-KV)</option>
          <option value="kg-KG">Kongo (kg-KG)</option>
          <option value="ko-KR">Korean (ko-KR)</option>
          <option value="kj-KJ">Kuanyama (kj-KJ)</option>
          <option value="ku-KU">Kurdish (ku-KU)</option>
          <option value="lo-LO">Lao (lo-LO)</option>
          <option value="la-LA">Latin (la-LA)</option>
          <option value="lv-LV">Latvian (lv-LV)</option>
          <option value="li-LI">Limburgan (li-LI)</option>
          <option value="ln-LN">Lingala (ln-LN)</option>
          <option value="lt-LT">Lithuanian (lt-LT)</option>
          <option value="lu-LU">Luba-Katanga (lu-LU)</option>
          <option value="lb-LB">Luxembourgish (lb-LB)</option>
          <option value="mk-MK">Macedonian (mk-MK)</option>
          <option value="mg-MG">Malagasy (mg-MG)</option>
          <option value="ms-MY">Malay (ms-MY)</option>
          <option value="ms-SG">Malay (ms-SG)</option>
          <option value="ml-IN">Malayalam (ml-IN)</option>
          <option value="mt-MT">Maltese (mt-MT)</option>
          <option value="gv-GV">Manx (gv-GV)</option>
          <option value="mi-MI">Maori (mi-MI)</option>
          <option value="mr-MR">Marathi (mr-MR)</option>
          <option value="mh-MH">Marshallese (mh-MH)</option>
          <option value="mo-MO">Moldavian (mo-MO)</option>
          <option value="mn-MN">Mongolian (mn-MN)</option>
          <option value="na-NA">Nauru (na-NA)</option>
          <option value="nv-NV">Navajo (nv-NV)</option>
          <option value="nd-ND">North Ndebele (nd-ND)</option>
          <option value="nr-NR">South Ndebele (nr-NR)</option>
          <option value="ng-NG">Ndonga (ng-NG)</option>
          <option value="ne-NE">Nepali (ne-NE)</option>
          <option value="se-SE">Northern Sami (se-SE)</option>
          <option value="no-NO">Norwegian (no-NO)</option>
          <option value="nn-NN">Norwegian Nynorsk (nn-NN)</option>
          <option value="oc-OC">Occitan (oc-OC)</option>
          <option value="oj-OJ">Ojibwa (oj-OJ)</option>
          <option value="or-OR">Oriya (or-OR)</option>
          <option value="om-OM">Oromo (om-OM)</option>
          <option value="os-OS">Ossetian (os-OS)</option>
          <option value="pi-PI">Pali (pi-PI)</option>
          <option value="pa-PA">Panjabi (pa-PA)</option>
          <option value="fa-IR">Persian (fa-IR)</option>
          <option value="pl-PL">Polish (pl-PL)</option>
          <option value="pt-PT">Portuguese (pt-PT)</option>
          <option value="pt-BR">Portuguese (pt-BR)</option>
          <option value="ps-PS">Pushto; Pashto (ps-PS)</option>
          <option value="qu-QU">Quechua (qu-QU)</option>
          <option value="ro-RO">Romanian (ro-RO)</option>
          <option value="rm-RM">Romansh (rm-RM)</option>
          <option value="rn-RN">Rundi (rn-RN)</option>
          <option value="ru-RU">Russian (ru-RU)</option>
          <option value="sm-SM">Samoan (sm-SM)</option>
          <option value="sg-SG">Sango (sg-SG)</option>
          <option value="sa-SA">Sanskrit (sa-SA)</option>
          <option value="sc-SC">Sardinian (sc-SC)</option>
          <option value="sr-RS">Serbian (sr-RS)</option>
          <option value="sh-SH">Serbo-Croatian (sh-SH)</option>
          <option value="sn-SN">Shona (sn-SN)</option>
          <option value="ii-II">Sichuan Yi (ii-II)</option>
          <option value="sd-SD">Sindhi (sd-SD)</option>
          <option value="si-LK">Sinhala (si-LK)</option>
          <option value="sk-SK">Slovak (sk-SK)</option>
          <option value="sl-SI">Slovenian (sl-SI)</option>
          <option value="so-SO">Somali (so-SO)</option>
          <option value="st-ST">Sotho (st-ST)</option>
          <option value="es-ES">Spanish (es-ES)</option>
          <option value="es-MX">Spanish (es-MX)</option>
          <option value="su-SU">Sundanese (su-SU)</option>
          <option value="sw-SW">Swahili (sw-SW)</option>
          <option value="ss-SS">Swati (ss-SS)</option>
          <option value="sv-SE">Swedish (sv-SE)</option>
          <option value="tl-PH">Tagalog (tl-PH)</option>
          <option value="ty-TY">Tahitian (ty-TY)</option>
          <option value="tg-TG">Tajik (tg-TG)</option>
          <option value="ta-IN">Tamil (ta-IN)</option>
          <option value="tt-TT">Tatar (tt-TT)</option>
          <option value="te-IN">Telugu (te-IN)</option>
          <option value="th-TH">Thai (th-TH)</option>
          <option value="bo-BO">Tibetan (bo-BO)</option>
          <option value="ti-TI">Tigrinya (ti-TI)</option>
          <option value="to-TO">Tonga (to-TO)</option>
          <option value="ts-TS">Tsonga (ts-TS)</option>
          <option value="tn-TN">Tswana (tn-TN)</option>
          <option value="tr-TR">Turkish (tr-TR)</option>
          <option value="tk-TK">Turkmen (tk-TK)</option>
          <option value="tw-TW">Twi (tw-TW)</option>
          <option value="ug-UG">Uighur; Uyghur (ug-UG)</option>
          <option value="uk-UA">Ukrainian (uk-UA)</option>
          <option value="ur-UR">Urdu (ur-UR)</option>
          <option value="uz-UZ">Uzbek (uz-UZ)</option>
          <option value="ve-VE">Venda (ve-VE)</option>
          <option value="vi-VN">Vietnamese (vi-VN)</option>
          <option value="vo-VO">Volap√ºk (vo-VO)</option>
          <option value="wa-WA">Walloon (wa-WA)</option>
          <option value="cy-CY">Welsh (cy-CY)</option>
          <option value="fy-FY">Western Frisian (fy-FY)</option>
          <option value="wo-WO">Wolof (wo-WO)</option>
          <option value="xh-XH">Xhosa (xh-XH)</option>
          <option value="yi-YI">Yiddish (yi-YI)</option>
          <option value="yo-YO">Yoruba (yo-YO)</option>
          <option value="za-ZA">Zhuang; Chuang (za-ZA)</option>
          <option value="zu-ZA">Zulu (zu-ZA)</option>
        </select>
      </form>

      <div class="separator"></div>

      <a id="installLink" class="install-link" href="#">
        <button name="Install">INSTALL</button>
      </a>
    </div>
    <script>
      const arrayIMDB = [
        "tt0016847",
        "tt0049223",
        "tt0078748",
        "tt0090520",
        "tt0121766",
        "tt0285531",
        "tt1446714",
        "tt2316204",
        "tt5073642",
        "tt0017136",
        "tt0055151",
        "tt0080684",
        "tt0092076",
        "tt0129167",
        "tt0300556",
        "tt1454468",
        "tt2527338",
        "tt7329656",
        "tt0021884",
        "tt0055608",
        "tt0083866",
        "tt0092106",
        "tt0139809",
        "tt0816692",
        "tt1564585",
        "tt2557478",
        "tt0046534",
        "tt0061722",
        "tt0086190",
        "tt0096754",
        "tt0140703",
        "tt0910970",
        "tt1823672",
        "tt2719848",
        "tt0046672",
        "tt0065702",
        "tt0088846",
        "tt0102803",
        "tt0142183",
        "tt1104001",
        "tt1971325",
        "tt3371366",
        "tt0048215",
        "tt0071565",
        "tt0089489",
        "tt0116629",
        "tt0182789",
        "tt1318514",
        "tt2109248",
        "tt3741700",
      ];

      const random = Math.floor(Math.random() * arrayIMDB.length);

      const background =
        "https://images.metahub.space/background/medium/" +
          arrayIMDB[random] +
          "/img" || "https://dl.strem.io/addon-background.jpg";

      document.querySelector(
        "html"
      ).style.backgroundImage = `url(${background})`;

      installLink.onclick = () => {
        return mainForm.reportValidity();
      };
      const updateLink = () => {
        const config = Object.fromEntries(new FormData(mainForm));
        installLink.href =
          "stremio://" +
          window.location.host +
          "/" +
          encodeURIComponent(JSON.stringify(config)) +
          "/manifest.json";
      };
      mainForm.onchange = updateLink;

      if (typeof updateLink === "function") updateLink();
      else
        installLink.href =
          "stremio://" + window.location.host + "/manifest.json";

      const checkbox = document.getElementById("ratings");

      checkbox.addEventListener("change", (event) => {
        const rpdbSettings = document.getElementById("rpdb-data");
        if (event.currentTarget.checked) {
          rpdbSettings.innerHTML = `
             <div class="form-element">
               <div class="label-to-top">RPDB API Key (get it from <a href="https://ratingposterdb.com/" target="_blank">RatingPosterDB</a>)</div>
               <input type="input" id="rpdbkey" name="rpdbkey" class="full-width" required/>
            </div>
            `;
          var rpdbInput = document.getElementById("rpdbkey");
          rpdbInput.addEventListener(
            "blur",
            () => {
              const apiKey = rpdbInput.value;
              if (!apiKey) return;
              fetch("https://api.ratingposterdb.com/" + apiKey + "/isValid")
                .then(async (resp) => {
                  let data;
                  try {
                    data = await resp.json();
                  } catch (e) {
                    console.error(e);
                  }
                  if (!(data || {}).valid) {
                    alert("RPDB Key is invalid, please try again");
                    rpdbInput.value = "";
                  }
                })
                .catch((e) => {
                  console.error(e);
                });
            },
            true
          );
        } else {
          rpdbSettings.innerHTML = "";
        }
      });
    </script>
  </body>
</html>
